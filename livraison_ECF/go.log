SQL> 
SQL> -- Pas d'affichage des substitutions de variable
SQL> SET VERIFY OFF
SQL> 
SQL> -- Sortir en cas d'erreur
SQL> WHENEVER SQLERROR EXIT rollback
SQL> 
SQL> -- On garde une trace de la date de la derniere utilisation du script
SQL> prompt Lancement du script a
Lancement du script a
SQL> set heading off
SQL> select to_char(sysdate,'DD/MM/YYYY HH24:MI:SS') from dual;

08/03/2019 09:22:19                                                             

SQL> set heading on
SQL> 
SQL> 
SQL> @install_livraison
SQL> 
SQL> ALTER SESSION SET NLS_DATE_FORMAT='DD/MM/YYYY HH24:MI:SS';

Session modifiée.

SQL> 
SQL> CREATE TABLE Client
  2  (noClient		     DECIMAL(4,0) not null,
  3   nomClient 	     VARCHAR(20) not null,
  4    noTelephone   VARCHAR(15) not null,
  5    constraint pk_noClient primary key (noClient) enable,
  6    constraint check_noClient check (noClient > 0) enable
  7  );

Table créée.

SQL> 
SQL> CREATE TABLE Commande
  2  (noCommande     DECIMAL(5,0) not null,
  3   dateCommande   DATE NOT NULL,
  4   noClient		     DECIMAL(4,0) not null,
  5   constraint pk_noCommande	primary key (noCommande) enable,
  6   constraint fk_noClient FOREIGN key (noClient) references Client(noClient) enable,
  7   constraint check_noCommande check (noCommande > 0) enable
  8  );

Table créée.

SQL> 
SQL> CREATE TABLE Article
  2  (noArticle 	     DECIMAL(5,0) not null,
  3   description    VARCHAR(20) null,
  4   prixUnitaire   DECIMAL(10,2) not null,
  5   quantiteEnStock	     DECIMAL(5,0) DEFAULT 0 not null,
  6   constraint pk_noArticle  primary key (noArticle) enable,
  7   constraint check_noArticle check (noArticle > 0) enable,
  8   constraint check_quantEnStk check (quantiteEnStock >= 0) enable
  9  );

Table créée.

SQL> 
SQL> CREATE TABLE LigneCommande
  2  (noCommande     DECIMAL(5,0) not null,
  3   noArticle 	     DECIMAL(5,0) not null,
  4   quantite		     DECIMAL(4,0) not null,
  5   constraint pk_noCom_noArt  primary key (noCommande, noArticle) enable,
  6   constraint fk_noArticle  FOREIGN key (noArticle) references Article(noArticle) enable,
  7   constraint fk_noCommande FOREIGN key (noCommande) references Commande(noCommande) enable,
  8   constraint check_quantite check (quantite > 0) enable
  9  );

Table créée.

SQL> 
SQL> CREATE TABLE Livraison
  2  (noLivraison    DECIMAL(5,0) not null,
  3   dateLivraison  DATE NOT NULL,
  4   constraint pk_noLivraison  primary key (noLivraison) enable,
  5   constraint check_noLivraison check (noLivraison > 0) enable
  6  );

Table créée.

SQL> 
SQL> CREATE TABLE DetailLivraison
  2  (noLivraison    DECIMAL(5,0) not null,
  3   noCommande     DECIMAL(5,0) not null,
  4   noArticle 	     DECIMAL(5,0) not null,
  5   quantiteLivree DECIMAL(4,0) not null,
  6   constraint pk_noCom_noArt_noLiv  primary key (noCommande, noArticle, noLivraison) enable,
  7   constraint fk_noLivraison FOREIGN key (noLivraison) references Livraison(noLivraison) enable,
  8   constraint fk_noCom_noArt FOREIGN key (noCommande, noArticle) references LigneCommande(noCommande, noArticle) enable,
  9   constraint check_quantiteLivree check (quantiteLivree > 0) enable
 10  );

Table créée.

SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> prompt

SQL> prompt

SQL> prompt

SQL> Prompt ******************************
******************************
SQL> prompt Recapitulatif des Objets crÃ©Ã©s
Recapitulatif des Objets crÃ©Ã©s
SQL> Prompt ******************************
******************************
SQL> select * from user_catalog;

TABLE_NAME                     TABLE_TYPE                                       
------------------------------ -----------                                      
CLIENT                         TABLE                                            
COMMANDE                       TABLE                                            
ARTICLE                        TABLE                                            
LIGNECOMMANDE                  TABLE                                            
LIVRAISON                      TABLE                                            
DETAILLIVRAISON                TABLE                                            
SEQ_NOLIVRAISON                SEQUENCE                                         

7 ligne(s) sélectionnée(s).

SQL> prompt

SQL> prompt

SQL> prompt

SQL> prompt ************************************
************************************
SQL> prompt Recapitulatif des contraintes posÃ©es
Recapitulatif des contraintes posÃ©es
SQL> prompt ************************************
************************************
SQL> 
SQL> column constraint_name format A20
SQL> column type format A3
SQL> column table_name format A15
SQL> column SEARCH_CONDITION format A30
SQL> 
SQL> break on type skip
SQL> compute count of constraint_name on type report
SQL> select  constraint_name, Constraint_type as type,
  2  	     table_name , SEARCH_CONDITION, DELETE_RULE, STATUS
  3  from user_constraints
  4  order by type, table_name;

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
SYS_C004213          C   ARTICLE         "NOARTICLE" IS NOT NULL                
          ENABLED                                                               
                                                                                
CHECK_NOARTICLE          ARTICLE         noArticle > 0                          
          ENABLED                                                               
                                                                                
SYS_C004215              ARTICLE         "QUANTITEENSTOCK" IS NOT NULL          
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
SYS_C004214          C   ARTICLE         "PRIXUNITAIRE" IS NOT NULL             
          ENABLED                                                               
                                                                                
CHECK_QUANTENSTK         ARTICLE         quantiteEnStock >= 0                   
          ENABLED                                                               
                                                                                
SYS_C004203              CLIENT          "NOMCLIENT" IS NOT NULL                
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
CHECK_NOCLIENT       C   CLIENT          noClient > 0                           
          ENABLED                                                               
                                                                                
SYS_C004204              CLIENT          "NOTELEPHONE" IS NOT NULL              
          ENABLED                                                               
                                                                                
SYS_C004202              CLIENT          "NOCLIENT" IS NOT NULL                 
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
SYS_C004209          C   COMMANDE        "NOCLIENT" IS NOT NULL                 
          ENABLED                                                               
                                                                                
SYS_C004208              COMMANDE        "DATECOMMANDE" IS NOT NULL             
          ENABLED                                                               
                                                                                
SYS_C004207              COMMANDE        "NOCOMMANDE" IS NOT NULL               
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
CHECK_NOCOMMANDE     C   COMMANDE        noCommande > 0                         
          ENABLED                                                               
                                                                                
SYS_C004230              DETAILLIVRAISON "NOLIVRAISON" IS NOT NULL              
          ENABLED                                                               
                                                                                
SYS_C004231              DETAILLIVRAISON "NOCOMMANDE" IS NOT NULL               
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
CHECK_QUANTITELIVREE C   DETAILLIVRAISON quantiteLivree > 0                     
          ENABLED                                                               
                                                                                
SYS_C004232              DETAILLIVRAISON "NOARTICLE" IS NOT NULL                
          ENABLED                                                               
                                                                                
SYS_C004233              DETAILLIVRAISON "QUANTITELIVREE" IS NOT NULL           
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
SYS_C004219          C   LIGNECOMMANDE   "NOCOMMANDE" IS NOT NULL               
          ENABLED                                                               
                                                                                
SYS_C004221              LIGNECOMMANDE   "QUANTITE" IS NOT NULL                 
          ENABLED                                                               
                                                                                
CHECK_QUANTITE           LIGNECOMMANDE   quantite > 0                           
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
SYS_C004220          C   LIGNECOMMANDE   "NOARTICLE" IS NOT NULL                
          ENABLED                                                               
                                                                                
SYS_C004226              LIVRAISON       "NOLIVRAISON" IS NOT NULL              
          ENABLED                                                               
                                                                                
SYS_C004227              LIVRAISON       "DATELIVRAISON" IS NOT NULL            
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
CHECK_NOLIVRAISON    C   LIVRAISON       noLivraison > 0                        
          ENABLED                                                               
                                                                                
-------------------- ***                                                        
                                                                                
                                                                                
                  25 cou                                                        
                                                                                
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
PK_NOARTICLE         P   ARTICLE                                                
          ENABLED                                                               
                                                                                
PK_NOCLIENT              CLIENT                                                 
          ENABLED                                                               
                                                                                
PK_NOCOMMANDE            COMMANDE                                               
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
PK_NOCOM_NOART_NOLIV P   DETAILLIVRAISON                                        
          ENABLED                                                               
                                                                                
PK_NOCOM_NOART           LIGNECOMMANDE                                          
          ENABLED                                                               
                                                                                
PK_NOLIVRAISON           LIVRAISON                                              
          ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
-------------------- ***                                                        
                                                                                
                                                                                
                   6 cou                                                        
                                                                                
                                                                                
FK_NOCLIENT          R   COMMANDE                                               
NO ACTION ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
FK_NOLIVRAISON       R   DETAILLIVRAISON                                        
NO ACTION ENABLED                                                               
                                                                                
FK_NOCOM_NOART           DETAILLIVRAISON                                        
NO ACTION ENABLED                                                               
                                                                                
FK_NOARTICLE             LIGNECOMMANDE                                          
NO ACTION ENABLED                                                               
                                                                                

CONSTRAINT_NAME      TYP TABLE_NAME      SEARCH_CONDITION                       
-------------------- --- --------------- ------------------------------         
DELETE_RU STATUS                                                                
--------- --------                                                              
FK_NOCOMMANDE        R   LIGNECOMMANDE                                          
NO ACTION ENABLED                                                               
                                                                                
-------------------- ***                                                        
                                                                                
                                                                                
                   5 cou                                                        
                                                                                
                                                                                

36 ligne(s) sélectionnée(s).

SQL> 
SQL> 
SQL> clear columns
SQL> clear breaks
SQL> clear computes
SQL> @install_data_livraison
SQL> --======================================================
SQL> -- Nom de la base :LIVRAISON
SQL> -- Fichier 	 :
SQL> --======================================================
SQL> 
SQL> 
SQL> --Script de suppression des données
SQL> delete from DetailLivraison;

0 ligne(s) supprimée(s).

SQL> delete from Livraison;

0 ligne(s) supprimée(s).

SQL> delete from LigneCommande;

0 ligne(s) supprimée(s).

SQL> delete from Article;

0 ligne(s) supprimée(s).

SQL> delete from Commande;

0 ligne(s) supprimée(s).

SQL> delete from Client;

0 ligne(s) supprimée(s).

SQL> DROP SEQUENCE livraison2.seq_noLivraison;

Séquence supprimée.

SQL> commit;

Validation effectuée.

SQL> 
SQL> ALTER SESSION SET NLS_DATE_FORMAT='DD/MM/YYYY HH24:MI:SS';

Session modifiée.

SQL> --ALTER SESSION SET NLS_DATE_FORMAT = 'DD/MM/YYYY';
SQL> 
SQL> CREATE SEQUENCE seq_noLivraison START WITH 1 INCREMENT BY 1;

Séquence créée.

SQL> 
SQL> INSERT INTO Client VALUES(10,'Luc Sansom','(999)999-9999');

1 ligne créée.

SQL> INSERT INTO Client VALUES(20,'Dollard Tremblay','(888)888-8888');

1 ligne créée.

SQL> INSERT INTO Client VALUES(30,'Lin Bô','(777)777-7777');

1 ligne créée.

SQL> INSERT INTO Client VALUES(40,'Jean Leconte','(666)666-6666');

1 ligne créée.

SQL> INSERT INTO Client VALUES(50,'Hafed Alaoui','(555)555-5555');

1 ligne créée.

SQL> INSERT INTO Client VALUES(60,'Marie Leconte','(666)666-6666');

1 ligne créée.

SQL> INSERT INTO Client VALUES(70,'Simon Lecoq','(444)444-4419');

1 ligne créée.

SQL> INSERT INTO Client VALUES(80,'Dollard Tremblay','(333)333-3333');

1 ligne créée.

SQL> 
SQL> --INSERT INTO Commande VALUES(1,'01/06/2000 01:11:11',10)/
SQL> 
SQL> INSERT INTO Commande VALUES(1,TO_DATE('01/06/2000 01:11:11', 'DD/MM/YYYY HH24:MI:SS'),10);

1 ligne créée.

SQL> INSERT INTO Commande VALUES(2,TO_DATE('02/06/2000 02:22:22', 'DD/MM/YYYY HH24:MI:SS'),20);

1 ligne créée.

SQL> INSERT INTO Commande VALUES(3,TO_DATE('02/06/2000 03:33:33', 'DD/MM/YYYY HH24:MI:SS'),10);

1 ligne créée.

SQL> INSERT INTO Commande VALUES(4,TO_DATE('05/07/2000 04:44:44', 'DD/MM/YYYY HH24:MI:SS'),10);

1 ligne créée.

SQL> INSERT INTO Commande VALUES(5,TO_DATE('09/07/2000 05:55:55', 'DD/MM/YYYY HH24:MI:SS'),30);

1 ligne créée.

SQL> INSERT INTO Commande VALUES(6,TO_DATE('09/07/2000 06:06:06', 'DD/MM/YYYY HH24:MI:SS'),20);

1 ligne créée.

SQL> INSERT INTO Commande VALUES(7,TO_DATE('15/07/2000 07:07:07', 'DD/MM/YYYY HH24:MI:SS'),40);

1 ligne créée.

SQL> INSERT INTO Commande VALUES(8,TO_DATE('15/07/2000 08:08:08', 'DD/MM/YYYY HH24:MI:SS'),40);

1 ligne créée.

SQL> 
SQL> INSERT INTO Article VALUES(10,'Cèdre en boule',10.99,10);

1 ligne créée.

SQL> INSERT INTO Article VALUES(20,'Sapin',12.99,10);

1 ligne créée.

SQL> INSERT INTO Article VALUES(40,'Épinette bleue',25.99,10);

1 ligne créée.

SQL> INSERT INTO Article VALUES(50,'Chêne',22.99,10);

1 ligne créée.

SQL> INSERT INTO Article VALUES(60,'Érable argenté',15.99,10);

1 ligne créée.

SQL> INSERT INTO Article VALUES(70,'Herbe à puce',10.99,10);

1 ligne créée.

SQL> INSERT INTO Article VALUES(80,'Poirier',26.99,10);

1 ligne créée.

SQL> INSERT INTO Article VALUES(81,'Catalpa',25.99,10);

1 ligne créée.

SQL> INSERT INTO Article VALUES(90,'Pommier',25.99,10);

1 ligne créée.

SQL> INSERT INTO Article VALUES(95,'Génévrier',15.99,10);

1 ligne créée.

SQL> 
SQL> INSERT INTO LigneCommande VALUES(1,10,10);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(1,70,5);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(1,90,1);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(2,40,2);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(2,95,3);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(3,20,1);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(4,40,1);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(4,50,1);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(5,70,3);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(5,10,5);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(5,20,5);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(6,10,5);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(6,40,1);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(7,50,1);

1 ligne créée.

SQL> INSERT INTO LigneCommande VALUES(8,20,3);

1 ligne créée.

SQL> 
SQL> INSERT INTO Livraison VALUES(seq_noLivraison.nextval,'03/06/2000');

1 ligne créée.

SQL> INSERT INTO DetailLivraison VALUES(seq_noLivraison.currval,1,10,7);

1 ligne créée.

SQL> INSERT INTO DetailLivraison VALUES(seq_noLivraison.currval,1,70,5);

1 ligne créée.

SQL> INSERT INTO DetailLivraison VALUES(seq_noLivraison.currval,3,20,1);

1 ligne créée.

SQL> 
SQL> INSERT INTO Livraison VALUES(seq_noLivraison.nextval,'04/06/2000');

1 ligne créée.

SQL> INSERT INTO DetailLivraison VALUES(seq_noLivraison.currval,1,10,3);

1 ligne créée.

SQL> 
SQL> INSERT INTO Livraison VALUES(seq_noLivraison.nextval,'04/06/2000');

1 ligne créée.

SQL> INSERT INTO DetailLivraison VALUES(seq_noLivraison.currval,2,40,2);

1 ligne créée.

SQL> INSERT INTO DetailLivraison VALUES(seq_noLivraison.currval,2,95,1);

1 ligne créée.

SQL> 
SQL> INSERT INTO Livraison VALUES(seq_noLivraison.nextval,'05/06/2000');

1 ligne créée.

SQL> INSERT INTO DetailLivraison VALUES(seq_noLivraison.currval,1,90,1);

1 ligne créée.

SQL> 
SQL> INSERT INTO Livraison VALUES(seq_noLivraison.nextval,'07/07/2000');

1 ligne créée.

SQL> INSERT INTO DetailLivraison VALUES(seq_noLivraison.currval,4,40,1);

1 ligne créée.

SQL> 
SQL> INSERT INTO Livraison VALUES(seq_noLivraison.nextval,'09/07/2000');

1 ligne créée.

SQL> INSERT INTO DetailLivraison VALUES(seq_noLivraison.currval,5,70,2);

1 ligne créée.

SQL> 
SQL> COMMIT;

Validation effectuée.

SQL> @req_livraison
SQL> 
SQL> --4.1
SQL> select * from Client;

  NOCLIENT NOMCLIENT            NOTELEPHONE                                     
---------- -------------------- ---------------                                 
        10 Luc Sansom           (999)999-9999                                   
        20 Dollard Tremblay     (888)888-8888                                   
        30 Lin Bô               (777)777-7777                                   
        40 Jean Leconte         (666)666-6666                                   
        50 Hafed Alaoui         (555)555-5555                                   
        60 Marie Leconte        (666)666-6666                                   
        70 Simon Lecoq          (444)444-4419                                   
        80 Dollard Tremblay     (333)333-3333                                   

8 ligne(s) sélectionnée(s).

SQL> select * from Commande;

NOCOMMANDE DATECOMMANDE          NOCLIENT                                       
---------- ------------------- ----------                                       
         1 01/06/2000 01:11:11         10                                       
         2 02/06/2000 02:22:22         20                                       
         3 02/06/2000 03:33:33         10                                       
         4 05/07/2000 04:44:44         10                                       
         5 09/07/2000 05:55:55         30                                       
         6 09/07/2000 06:06:06         20                                       
         7 15/07/2000 07:07:07         40                                       
         8 15/07/2000 08:08:08         40                                       

8 ligne(s) sélectionnée(s).

SQL> select * from Article;

 NOARTICLE DESCRIPTION          PRIXUNITAIRE QUANTITEENSTOCK                    
---------- -------------------- ------------ ---------------                    
        10 Cèdre en boule              10,99              10                    
        20 Sapin                       12,99              10                    
        40 Épinette bleue              25,99              10                    
        50 Chêne                       22,99              10                    
        60 Érable argenté              15,99              10                    
        70 Herbe à puce                10,99              10                    
        80 Poirier                     26,99              10                    
        81 Catalpa                     25,99              10                    
        90 Pommier                     25,99              10                    
        95 Génévrier                   15,99              10                    

10 ligne(s) sélectionnée(s).

SQL> select * from LigneCommande;

NOCOMMANDE  NOARTICLE   QUANTITE                                                
---------- ---------- ----------                                                
         1         10         10                                                
         1         70          5                                                
         1         90          1                                                
         2         40          2                                                
         2         95          3                                                
         3         20          1                                                
         4         40          1                                                
         4         50          1                                                
         5         70          3                                                
         5         10          5                                                
         5         20          5                                                

NOCOMMANDE  NOARTICLE   QUANTITE                                                
---------- ---------- ----------                                                
         6         10          5                                                
         6         40          1                                                
         7         50          1                                                
         8         20          3                                                

15 ligne(s) sélectionnée(s).

SQL> select * from Livraison;

NOLIVRAISON DATELIVRAISON                                                       
----------- -------------------                                                 
          1 03/06/2000 00:00:00                                                 
          2 04/06/2000 00:00:00                                                 
          3 04/06/2000 00:00:00                                                 
          4 05/06/2000 00:00:00                                                 
          5 07/07/2000 00:00:00                                                 
          6 09/07/2000 00:00:00                                                 

6 ligne(s) sélectionnée(s).

SQL> select * from DetailLivraison;

NOLIVRAISON NOCOMMANDE  NOARTICLE QUANTITELIVREE                                
----------- ---------- ---------- --------------                                
          1          1         10              7                                
          1          1         70              5                                
          1          3         20              1                                
          2          1         10              3                                
          3          2         40              2                                
          3          2         95              1                                
          4          1         90              1                                
          5          4         40              1                                
          6          5         70              2                                

9 ligne(s) sélectionnée(s).

SQL> 
SQL> --4.2
SQL> select * from client where notelephone='(999)999-9999';

  NOCLIENT NOMCLIENT            NOTELEPHONE                                     
---------- -------------------- ---------------                                 
        10 Luc Sansom           (999)999-9999                                   

SQL> 
SQL> --5.1
SQL> select sum(prixunitaire*quantite), sum(prixunitaire*quantite)*115/100
  2    from lignecommande, article
  3    where lignecommande.NOARTICLE = article.NOARTICLE
  4  	 and lignecommande.NOCOMMANDE = 1;

SUM(PRIXUNITAIRE*QUANTITE) SUM(PRIXUNITAIRE*QUANTITE)*115/100                   
-------------------------- ----------------------------------                   
                    190,84                            219,466                   

SQL> 
SQL> --6.1
SQL> select * from article left join LIGNECOMMANDE on LIGNECOMMANDE.NOARTICLE = article.NOARTICLE
  2    where LIGNECOMMANDE.NOCOMMANDE is null;

 NOARTICLE DESCRIPTION          PRIXUNITAIRE QUANTITEENSTOCK NOCOMMANDE         
---------- -------------------- ------------ --------------- ----------         
 NOARTICLE   QUANTITE                                                           
---------- ----------                                                           
        60 Érable argenté              15,99              10                    
                                                                                
                                                                                
        80 Poirier                     26,99              10                    
                                                                                
                                                                                
        81 Catalpa                     25,99              10                    
                                                                                
                                                                                

SQL> delete from article where NOARTICLE in (select article.NOARTICLE from article left join LIGNECOMMANDE on LIGNECOMMANDE.NOARTICLE = article.NOARTICLE
  2    where LIGNECOMMANDE.NOCOMMANDE is null);

3 ligne(s) supprimée(s).

SQL> rollback;

Annulation (rollback) effectuée.

SQL> 
SQL> --7.1
SQL> ALTER SESSION SET NLS_DATE_FORMAT='DD/MM/YYYY';

Session modifiée.

SQL> 
SQL> select CLIENT.NOCLIENT, CLIENT.NOTELEPHONE, COMMANDE.NOCOMMANDE from CLIENT, COMMANDE where COMMANDE.NOCLIENT = CLIENT.NOCLIENT
  2    and TO_DATE(COMMANDE.DATECOMMANDE, 'DD/MM/YYYY') = TO_DATE('02/06/2000', 'DD/MM/YYYY');

  NOCLIENT NOTELEPHONE     NOCOMMANDE                                           
---------- --------------- ----------                                           
        20 (888)888-8888            2                                           
        10 (999)999-9999            3                                           

SQL> 
SQL> ALTER SESSION SET NLS_DATE_FORMAT='DD/MM/YYYY HH24:MI:SS';

Session modifiée.

SQL> 
SQL> --8.1
SQL> ALTER SESSION SET NLS_DATE_FORMAT='DD/MM/YYYY';

Session modifiée.

SQL> 
SQL> select detaillivraison.NOLIVRAISON from livraison, detaillivraison where livraison.NOLIVRAISON = detaillivraison.NOLIVRAISON
  2    and TO_DATE(livraison.DATELIVRAISON, 'DD/MM/YYYY') = TO_DATE('04/06/2000', 'DD/MM/YYYY')
  3    group by detaillivraison.NOLIVRAISON having count(detaillivraison.NOLIVRAISON) > 1;

NOLIVRAISON                                                                     
-----------                                                                     
          3                                                                     

SQL> 
SQL> ALTER SESSION SET NLS_DATE_FORMAT='DD/MM/YYYY HH24:MI:SS';

Session modifiée.

SQL> 
SQL> 
SQL> PROMPT	FIN NORMALE DU SCRIPT
FIN NORMALE DU SCRIPT
SQL> 
SQL> -- Comportement par défaut
SQL> spool off
